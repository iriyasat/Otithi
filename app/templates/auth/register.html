{% extends "base.html" %}

{% block title %}Register - Othiti{% endblock %}

{% block content %}
<div class="page-heading header-text">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <span class="breadcrumb"><a href="{{ url_for('public.index') }}">Home</a> / Register</span>
        <h3>Join the Othiti Community</h3>
      </div>
    </div>
  </div>
</div>

<div class="contact-page section">
  <div class="container">
    <div class="row">
      <div class="col-lg-6">
        <div class="section-heading">
          <h6>| Join Othiti</h6>
          <h2>Create Your Account</h2>
        </div>
        <p>Join thousands of travelers and hosts who are already part of the Othiti community. Whether you want to experience authentic Bangladeshi hospitality or share your home with travelers, we're here to connect you with amazing experiences.</p>
        
        <div class="row">
          <div class="col-lg-12">
            <div class="item phone">
              <img src="{{ url_for('static', filename='images/phone-icon.png') }}" alt="" style="max-width: 52px;">
              <h6>Safe & Secure<br><span>Verified Community</span></h6>
            </div>
          </div>
          <div class="col-lg-12">
            <div class="item email">
              <img src="{{ url_for('static', filename='images/email-icon.png') }}" alt="" style="max-width: 52px;">
              <h6>24/7 Support<br><span>Always Here to Help</span></h6>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="alert alert-{{ 'danger' if category == 'error' else category }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
              </div>
            {% endfor %}
          {% endif %}
        {% endwith %}
        
        <form id="register-form" method="POST" action="{{ url_for('auth.register') }}">
          <div class="row">
            <div class="col-lg-12">
              <fieldset>
                <label for="username">Username</label>
                {{ form.username(class="form-control" + (" is-invalid" if form.username.errors else ""), placeholder="Choose a username") }}
                {% for error in form.username.errors %}
                  <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
              </fieldset>
            </div>
            <div class="col-lg-12">
              <fieldset>
                <label for="email">Email Address</label>
                {{ form.email(class="form-control" + (" is-invalid" if form.email.errors else ""), placeholder="Enter your email") }}
                {% for error in form.email.errors %}
                  <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
              </fieldset>
            </div>
            <div class="col-lg-12">
              <fieldset>
                <label for="password">Password</label>
                {{ form.password(class="form-control" + (" is-invalid" if form.password.errors else ""), placeholder="Create a password") }}
                {% for error in form.password.errors %}
                  <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
              </fieldset>
            </div>
            <div class="col-lg-12">
              <fieldset>
                <label for="confirm_password">Confirm Password</label>
                {{ form.confirm_password(class="form-control" + (" is-invalid" if form.confirm_password.errors else ""), placeholder="Confirm your password") }}
                {% for error in form.confirm_password.errors %}
                  <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
              </fieldset>
            </div>
            <div class="col-lg-12">
              <fieldset>
                {{ form.submit(class="orange-button", value="Create Account") }}
              </fieldset>
            </div>
          </div>
        </form>
        
        <div class="text-center mt-4">
          <p class="mb-0">Already have an account? 
            <a href="{{ url_for('auth.login') }}" class="text-decoration-none">Login here</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %} 